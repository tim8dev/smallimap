<!doctype html>
<html>
  <head></head>
  <body style="background-color: #fdf6e3;">
    <canvas id="praiseplay" width="1152" height="608"></canvas>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    
    <script src="suntimes.js"></script>
    <script src="renderframe.js"></script>
    <script src="color-0.4.1.js"></script>
    <script src="main.js"></script>
    <script src="world.js"></script>
    <script type="text/javascript">
      var canvas = document.getElementById("praiseplay");
      var ctx = canvas.getContext("2d");
      var play = praiseplay(canvas.width, canvas.height, ctx, world);

      //play.triggerOverlay();
      
      var draw = function() {
	  play.reRender();
	  requestAnimationFrame(draw);
      }
      draw();
 
      $("#praiseplay").mousemove( function(e) {
	  var x = e.pageX - $(this).offset().left;
	  var y = e.pageY - $(this).offset().top;

	  play.newMouseHover(x,y);
      });
 
      setInterval(function() {
          var x = Math.random() * 360 - 180,
              y = Math.random() * 180 - 90;
          play.newEvent({longitude: x, latitude: y, color: "#fff", length: 384});
        }, 80);
      setInterval(function() {
          var x = Math.random() * 360 - 180,
              y = Math.random() * 180 - 90;
          play.newEvent({longitude: x, latitude: y, color: "#d33682", length: 512});
        }, 512);
      setInterval(function() {
          var x = Math.random() * 360 - 180,
              y = Math.random() * 180 - 90;
          play.newEvent({longitude: x, latitude: y, color: "#859900", length: 1280});
        }, 1280);
      setInterval(function() {
          var x = Math.random() * 360 - 180,
              y = Math.random() * 180 - 90;
	  play.newEvent({longitude: x, latitude: y, color: "#693693", length: 4096, radius: 1});
        }, 2048);
    </script>
  </body>
</html>
